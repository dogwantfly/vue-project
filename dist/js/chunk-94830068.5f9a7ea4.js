(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94830068"],{"32bc":function(t,e,c){},"60b5":function(t,e,c){"use strict";c("32bc")},e6dc:function(t,e,c){"use strict";c.r(e);var a=c("7a23"),o=Object(a["M"])("data-v-ad76e8c2");Object(a["v"])("data-v-ad76e8c2");var n={class:"table"},d=Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[Object(a["g"])("th",{scope:"col"},"圖片"),Object(a["g"])("th",{scope:"col"},"商品名稱"),Object(a["g"])("th",{scope:"col"},"價格"),Object(a["g"])("th",{scope:"col"})])],-1),l={scope:"row"},i=Object(a["g"])("br",null,null,-1),s={class:"fw-bold"},r={class:"btn-group",role:"group","aria-label":"Basic mixed styles example"},u={key:0,class:"spinner-border spinner-border-sm",role:"status"},b=Object(a["g"])("span",{class:"visually-hidden"},"Loading...",-1),g=Object(a["f"])(" 查看更多 "),p={key:0,class:"spinner-border spinner-border-sm",role:"status"},O=Object(a["g"])("span",{class:"visually-hidden"},"Loading...",-1),j=Object(a["f"])(" 加到購物車 ");Object(a["t"])();var m=o((function(t,e,c,o,m,h){var f=Object(a["z"])("pagination"),v=Object(a["z"])("userProductModal");return Object(a["s"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("table",n,[d,Object(a["g"])("tbody",null,[(Object(a["s"])(!0),Object(a["d"])(a["a"],null,Object(a["y"])(m.products,(function(t){return Object(a["s"])(),Object(a["d"])("tr",{key:t.id},[Object(a["g"])("td",l,[Object(a["g"])("img",{src:t.imgUrl,alt:t.title,class:"cart-img"},null,8,["src","alt"])]),Object(a["g"])("td",null,Object(a["C"])(t.title),1),Object(a["g"])("td",null,[Object(a["g"])("del",null,"原價 "+Object(a["C"])(t.origin_price)+" 元",1),i,Object(a["g"])("span",s,"現在只要 "+Object(a["C"])(t.price)+" 元",1)]),Object(a["g"])("td",null,[Object(a["g"])("div",r,[Object(a["g"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(e){return h.getProductInfo(t)}},[m.loadingStatus.loadingItem===t.id?(Object(a["s"])(),Object(a["d"])("div",u,[b])):Object(a["e"])("",!0),g],8,["onClick"]),Object(a["g"])("button",{type:"button",class:"btn btn-outline-primary",onClick:function(e){return h.addCart(t.id,1,e)}},[m.loadingStatus.loadingCart===t.id?(Object(a["s"])(),Object(a["d"])("div",p,[O])):Object(a["e"])("",!0),j],8,["onClick"])])])])})),128))])]),Object(a["g"])(f,{pagination:m.pagination,onChangePage:h.getProduct},null,8,["pagination","onChangePage"]),Object(a["g"])(v,{"temp-product":m.tempProduct,ref:"userProductModal",onAddCart:h.addCart},null,8,["temp-product","onAddCart"])],64)})),h=c("5530"),f=(c("99af"),c("bc3a")),v=c.n(f),y=c("1799"),P=(c("a4d3"),c("e01a"),{class:"modal fade",id:"userProductModal",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true",ref:"modal"}),C={class:"modal-dialog modal-xl"},k={class:"modal-content"},w={class:"modal-header bg-dark text-white"},M={class:"modal-title",id:"exampleModalLabel"},x=Object(a["g"])("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),S={class:"modal-body"},_={class:"row row-cols-md-2"},q={class:"badge bg-primary rounded-pill"},I={key:0,class:"h5"},L={key:1,class:"h6"},U={key:2,class:"h5"},$={class:"input-group"};function z(t,e,c,o,n,d){return Object(a["s"])(),Object(a["d"])("div",P,[Object(a["g"])("div",C,[Object(a["g"])("div",k,[Object(a["g"])("div",w,[Object(a["g"])("h5",M,Object(a["C"])(t.tempProduct.title),1),x]),Object(a["g"])("div",S,[Object(a["g"])("div",_,[Object(a["g"])("img",{src:t.tempProduct.imgUrl,alt:"tempProduct.title",class:"modal-img"},null,8,["src"]),Object(a["g"])("div",null,[Object(a["g"])("span",q,Object(a["C"])(t.tempProduct.category),1),Object(a["g"])("p",null,"商品描述："+Object(a["C"])(t.tempProduct.description),1),Object(a["g"])("p",null,"商品內容："+Object(a["C"])(t.tempProduct.content),1),t.tempProduct.price?Object(a["e"])("",!0):(Object(a["s"])(),Object(a["d"])("div",I,Object(a["C"])(t.tempProduct.origin_price)+" 元",1)),t.tempProduct.price?(Object(a["s"])(),Object(a["d"])("del",L,"原價 "+Object(a["C"])(t.tempProduct.origin_price)+" 元",1)):Object(a["e"])("",!0),t.tempProduct.price?(Object(a["s"])(),Object(a["d"])("div",U,"現在只要 "+Object(a["C"])(t.tempProduct.price)+" 元",1)):Object(a["e"])("",!0),Object(a["g"])("div",null,[Object(a["g"])("div",$,[Object(a["K"])(Object(a["g"])("input",{type:"number",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.qty=t}),min:"1"},null,512),[[a["G"],n.qty,void 0,{number:!0}]]),Object(a["g"])("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=function(e){return t.$emit("add-cart",t.tempProduct.id,n.qty,e)})},"加入購物車")])])])])])])])],512)}var A=c("7c2b"),B=c.n(A),J={props:["temp-product"],template:"#userProductModal",data:function(){return{modal:null,qty:1}},methods:{openModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()}},mounted:function(){this.modal=new B.a(this.$refs.modal,{keyboard:!1})}};J.render=z;var N=J,T={data:function(){return{products:{},pagination:"",tempProduct:{},loadingStatus:{}}},components:{pagination:y["a"],userProductModal:N},methods:{getProduct:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="/api/".concat("hsinyuuu","/products?page=").concat(e);v.a.get(c).then((function(e){e.data.success&&(t.products=e.data.products,t.pagination=e.data.pagination)})).catch((function(t){console.log(t)}))},getProductInfo:function(t){var e=this;this.tempProduct=Object(h["a"])({},t);var c=this.tempProduct.id,a="/api/".concat("hsinyuuu","/product/").concat(c);this.loadingStatus.loadingItem=c,v.a.get(a).then((function(t){t.data.success?(e.loadingStatus.loadingItem="",e.$refs.userProductModal.openModal()):alert(t.data.message)})).catch((function(t){console.log(t)}))},addCart:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,o="/api/".concat("hsinyuuu","/cart"),n={product_id:t,qty:c};if("changeQty"===a.target.dataset.action){var d=a.target.value-c;n={product_id:t,qty:d}}"BUTTON"===a.target.nodeName&&(this.loadingStatus.loadingCart=t),this.$refs.userProductModal.hideModal(),v.a.post(o,{data:n}).then((function(t){t.data.success?e.loadingStatus.loadingCart="":alert(t.data.message)})).catch((function(t){console.log(t)}))}},mounted:function(){v.a.defaults.baseURL="https://dev-vue-course-api.hexschool.io",this.getProduct()}};c("60b5");T.render=m,T.__scopeId="data-v-ad76e8c2";e["default"]=T}}]);
//# sourceMappingURL=chunk-94830068.5f9a7ea4.js.map