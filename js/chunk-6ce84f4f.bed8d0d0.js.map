{"version":3,"sources":["webpack:///./src/views/dashboard/Dashboard.vue","webpack:///./src/components/backend/Navbar.vue","webpack:///./src/components/backend/Navbar.vue?6f9b","webpack:///./src/views/dashboard/Dashboard.vue?de94","webpack:///./src/methods/pushMessageState.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js"],"names":["class","active","isLoading","z-index","loader","color","isExpand","type","isLogin","to","logOut","inject","methods","api","this","$http","post","then","response","data","success","document","cookie","Date","$httpMessageState","setTimeout","$router","push","emitter","emit","style","title","content","catch","error","created","defaults","baseURL","__exports__","provide","components","ToastMessages","Navbar","checkLogin","token","replace","headers","common","Authorization","render","message","join","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","undefined","fails","module","exports","METHOD_NAME","argument","method"],"mappings":"4IAKUA,MAAM,c,GACLA,MAAM,iB,EAKP,yBAAoC,KAAjCA,MAAM,wBAAsB,S,GAG9BA,MAAM,a,8RAbf,yBAAiF,GAAvEC,OAAQ,EAAAC,UAAYC,UAAS,IAAMC,OAAQ,OAASC,MAAO,W,mBACrE,yBAAgB,GAChB,yBAeM,OAfDL,MAAK,CAAC,mBAA2B,EAAAM,SAAQ,c,CAC5C,yBAAS,GACT,yBAYO,OAZP,EAYO,CAXL,yBAOM,MAPN,EAOM,CANJ,yBAKS,UAJPC,KAAK,SACLP,MAAM,yEACL,QAAK,+BAAE,EAAAM,UAAY,EAAAA,Y,CACpB,MAGJ,yBAEM,MAFN,EAEM,CADe,EAAAE,S,yBAAnB,yBAA6B,Y,+ECd9BR,MAAM,+D,+BAE6C,Q,GAChDA,MAAM,4B,GACJA,MAAM,Y,EAEN,yBAEM,OAFDA,MAAM,aAAW,CACpB,yBAA+D,KAA5DA,MAAM,sD,kCACL,U,GAINA,MAAM,Y,EAIN,yBAEM,OAFDA,MAAM,aAAW,CACpB,yBAA6D,KAA1DA,MAAM,oD,kCACL,Q,GAINA,MAAM,Y,EAEN,yBAEM,OAFDA,MAAM,aAAW,CACpB,yBAAwD,KAArDA,MAAM,+C,kCACL,Q,GAINA,MAAM,Y,EAEN,yBAEM,OAFDA,MAAM,aAAW,CACpB,yBAA0D,KAAvDA,MAAM,iD,kCACL,S,GAINA,MAAM,Y,EAEN,yBAEM,OAFDA,MAAM,aAAW,CACpB,yBAA0D,KAAvDA,MAAM,iD,kCACL,Q,EAOZ,yBAA8C,KAA3CA,MAAM,kCAAgC,S,+BAAK,Q,2GAjDlD,yBAoDM,MApDN,EAoDM,CAnDJ,yBA8CM,YA7CJ,yBAAsE,GAAzDS,GAAG,IAAIT,MAAM,2B,+BAA0B,iBAAI,C,YACxD,yBA2CK,KA3CL,EA2CK,CA1CH,yBAOK,KAPL,EAOK,CANH,yBAKc,GALDS,GAAG,oBAAoBT,MAAM,gD,+BACxC,iBAEM,CAFN,E,cAMJ,yBASK,KATL,EASK,CARH,yBAOc,GANZS,GAAG,sBACHT,MAAM,gD,+BACN,iBAEM,CAFN,E,cAMJ,yBAOK,KAPL,EAOK,CANH,yBAKc,GALDS,GAAG,oBAAoBT,MAAM,gD,+BACxC,iBAEM,CAFN,E,cAMJ,yBAOK,KAPL,EAOK,CANH,yBAKc,GALDS,GAAG,qBAAqBT,MAAM,gD,+BACzC,iBAEM,CAFN,E,cAMJ,yBAOK,KAPL,EAOK,CANH,yBAKc,GALDS,GAAG,sBAAsBT,MAAM,2C,+BAC1C,iBAEM,CAFN,E,kBAQR,yBAGS,UAHDO,KAAK,SAAU,QAAK,8BAAE,EAAAG,QAAA,EAAAA,OAAA,qBAAQV,MAAM,4C,CAC1C,E,MAOU,OACdW,OAAQ,CAAC,oBAAqB,WAC9BC,QAAS,CACPF,OADO,WACE,WACDG,EAAM,UACZC,KAAKC,MAAMC,KAAKH,GACbI,MAAK,SAACC,GACAA,EAASC,KAAKC,SAQnBC,SAASC,OAAT,0BAAqC,IAAIC,MACzC,EAAKf,SAAU,EACf,EAAKgB,kBAAkBN,EAAU,OACjCO,YAAW,WACT,EAAKC,QAAQC,KAAK,OACjB,MAZD,EAAKC,QAAQC,KAAK,eAAgB,CAChCC,MAAO,SACPC,MAAO,OACPC,QAAS,kBAWdC,OAAM,SAACC,GACN,EAAKV,kBAAkBU,EAAO,aAItCC,QA3Bc,WA4BZrB,KAAKC,MAAMqB,SAASC,QAAU,yC,qBChFlC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,Q,oCFoBC,GACdnB,KADc,WAEZ,MAAO,CACLX,SAAS,EACTN,WAAW,EACXI,UAAU,IAGdiC,QARc,WASZ,MAAO,CACLf,kBAAA,OACAI,UAAA,OAGJY,WAAY,CACVC,gBAAA,KACAC,UAEF9B,QAAS,CACP+B,WADO,WACM,WACX7B,KAAKZ,WAAY,EACjB,IAAM0C,EAAQvB,SAASC,OAAOuB,QAAQ,8CAA+C,MACrF/B,KAAKC,MAAMqB,SAASU,QAAQC,OAAOC,cAAgBJ,EACnD,IAAM/B,EAAM,kBACZC,KAAKC,MAAMC,KAAKH,GACbI,MAAK,SAACC,GACL,IAAKA,EAASC,KAAKC,QAIjB,OAHA,eAAkBF,EAAU,MAC5B,EAAKhB,WAAY,OACjB,EAAKwB,QAAQC,KAAK,UAGpB,EAAKnB,SAAU,EACf,eAAkBU,EAAU,OAC5B,EAAKhB,WAAY,KAElB+B,OAAM,SAACC,GACN,eAAkBA,EAAO,QACzB,EAAKhC,WAAY,OAIzBiC,QA1Cc,WA2CZrB,KAAKC,MAAMqB,SAASC,QAAU,uCAC9B,IAAMO,EAAQvB,SAASC,OAAOuB,QAAQ,8CAA+C,MACjFD,EACF9B,KAAK6B,aAEL7B,KAAKY,QAAQC,KAAK,YGtExB,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASsB,KAErD,gB,8DCLA,gBAAU/B,GAAwB,IAAda,EAAc,uDAAN,KACzC,GAAIb,EAASC,KACX,GAAID,EAASC,KAAKC,QAChBQ,OAAQC,KAAK,eAAgB,CAC3BC,MAAO,UACPC,MAAO,GAAF,OAAKA,EAAL,MACLC,QAASd,EAASC,KAAK+B,cAEpB,CACL,IAAMA,EAA2C,kBAA1BhC,EAASC,KAAK+B,QACjC,CAAChC,EAASC,KAAK+B,SAAWhC,EAASC,KAAK+B,QAC5CtB,OAAQC,KAAK,eAAgB,CAC3BC,MAAO,SACPC,MAAO,GAAF,OAAKA,EAAL,MACLC,QAASkB,EAAQC,KAAK,YAI1BvB,OAAQC,KAAK,eAAgB,CAC3BC,MAAO,SACPC,MAAO,OACPC,QAAS,UAAGd,EAASgC,QAAZ,oB,kCCtBf,IAAIE,EAAI,EAAQ,QACZC,EAAgB,EAAQ,QACxBC,EAAkB,EAAQ,QAC1BC,EAAsB,EAAQ,QAE9BC,EAAa,GAAGL,KAEhBM,EAAcJ,GAAiBK,OAC/BC,EAAgBJ,EAAoB,OAAQ,KAIhDH,EAAE,CAAEQ,OAAQ,QAASC,OAAO,EAAMC,OAAQL,IAAgBE,GAAiB,CACzER,KAAM,SAAcY,GAClB,OAAOP,EAAWQ,KAAKV,EAAgBxC,WAAqBmD,IAAdF,EAA0B,IAAMA,O,kCCdlF,IAAIG,EAAQ,EAAQ,QAEpBC,EAAOC,QAAU,SAAUC,EAAaC,GACtC,IAAIC,EAAS,GAAGF,GAChB,QAASE,GAAUL,GAAM,WAEvBK,EAAOP,KAAK,KAAMM,GAAY,WAAc,MAAM,GAAM","file":"js/chunk-6ce84f4f.bed8d0d0.js","sourcesContent":["<template>\n  <Loading :active=\"isLoading\" :z-index=\"100\" :loader=\"'dots'\" :color=\"'#384D48'\"/>\n  <ToastMessages/>\n  <div class=\"dashboard d-flex\" :class=\"isExpand ? 'expand' : ''\">\n    <Navbar/>\n    <main class=\"w-100 main\">\n      <div class=\"bg-white mb-3\">\n        <button\n          type=\"button\"\n          class=\"btn d-inline-block sticky-top rounded-end bg-light shadow-sm py-2 px-4\"\n          @click=\"isExpand = !isExpand\">\n          <i class=\"bi bi-arrow-bar-left\"></i>\n        </button>\n      </div>\n      <div class=\"container\">\n        <router-view v-if=\"isLogin\"/>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport Navbar from '@/components/backend/Navbar.vue';\nimport ToastMessages from '@/components/ToastMessages.vue';\nimport $httpMessageState from '@/methods/pushMessageState';\nimport emitter from '@/methods/emitter';\n\nexport default ({\n  data() {\n    return {\n      isLogin: false,\n      isLoading: false,\n      isExpand: true,\n    };\n  },\n  provide() {\n    return {\n      $httpMessageState,\n      emitter,\n    };\n  },\n  components: {\n    ToastMessages,\n    Navbar,\n  },\n  methods: {\n    checkLogin() {\n      this.isLoading = true;\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      this.$http.defaults.headers.common.Authorization = token;\n      const api = '/api/user/check';\n      this.$http.post(api)\n        .then((response) => {\n          if (!response.data.success) {\n            $httpMessageState(response, '登入');\n            this.isLoading = false;\n            this.$router.push('/login');\n            return;\n          }\n          this.isLogin = true;\n          $httpMessageState(response, '已登入');\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          $httpMessageState(error, '連線錯誤');\n          this.isLoading = false;\n        });\n    },\n  },\n  created() {\n    this.$http.defaults.baseURL = process.env.VUE_APP_API;\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    if (token) {\n      this.checkLogin();\n    } else {\n      this.$router.push('/login');\n    }\n  },\n});\n</script>\n","<template>\n  <nav class=\"navbar flex-column align-items-stretch bg-light flex-nowrap\">\n    <div>\n      <router-link to=\"/\" class=\"navbar-brand w-100 mb-5\">前台首頁</router-link>\n      <ul class=\"navbar-nav overflow-auto\">\n        <li class=\"nav-item\">\n          <router-link to=\"/dashboard/charts\" class=\"nav-link d-flex align-items-center py-0 mb-3\">\n            <div class=\"ps-4 icon\">\n              <i class=\"bi bi-clipboard-data rounded-circle p-3 d-block\"></i>\n            </div>\n            後台首頁\n          </router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link\n            to=\"/dashboard/products\"\n            class=\"nav-link d-flex align-items-center py-0 mb-3\">\n            <div class=\"ps-4 icon\">\n              <i class=\"bi bi-handbag-fill rounded-circle p-3 d-block\"></i>\n            </div>\n            產品\n          </router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link to=\"/dashboard/orders\" class=\"nav-link d-flex align-items-center py-0 mb-3\">\n            <div class=\"ps-4 icon\">\n              <i class=\"bi bi-receipt rounded-circle p-3 d-block\"></i>\n            </div>\n            訂單\n          </router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link to=\"/dashboard/coupons\" class=\"nav-link d-flex align-items-center py-0 mb-3\">\n            <div class=\"ps-4 icon\">\n              <i class=\"bi bi-gift-fill rounded-circle p-3 d-block\"></i>\n            </div>\n            優惠券\n          </router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link to=\"/dashboard/articles\" class=\"nav-link d-flex align-items-center py-0\">\n            <div class=\"ps-4 icon\">\n              <i class=\"bi bi-card-text rounded-circle p-3 d-block\"></i>\n            </div>\n            文章\n          </router-link>\n        </li>\n      </ul>\n    </div>\n    <button type=\"button\" @click=\"logOut\" class=\"btn btn-transparent text-start ps-4 py-3\">\n      <i class=\"bi bi-box-arrow-left me-2 ps-3\"></i>\n      登出\n    </button>\n  </nav>\n</template>\n\n<script>\nexport default ({\n  inject: ['$httpMessageState', 'emitter'],\n  methods: {\n    logOut() {\n      const api = '/logout';\n      this.$http.post(api)\n        .then((response) => {\n          if (!response.data.success) {\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '登出失敗',\n              content: '登出失敗，請再試一次',\n            });\n            return;\n          }\n          document.cookie = `token= ;expires=${new Date()}`;\n          this.isLogin = false;\n          this.$httpMessageState(response, '已登出');\n          setTimeout(() => {\n            this.$router.push('/');\n          }, 3000);\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, '連線錯誤');\n        });\n    },\n  },\n  created() {\n    this.$http.defaults.baseURL = process.env.VUE_APP_API;\n  },\n});\n</script>\n","import { render } from \"./Navbar.vue?vue&type=template&id=a29cac98\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/hsinyu/Desktop/vue-project/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Dashboard.vue?vue&type=template&id=edd602ba\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/hsinyu/Desktop/vue-project/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import emitter from '@/methods/emitter';\n\nexport default function (response, title = '更新') {\n  if (response.data) {\n    if (response.data.success) {\n      emitter.emit('push-message', {\n        style: 'success',\n        title: `${title}成功`,\n        content: response.data.message,\n      });\n    } else {\n      const message = typeof response.data.message === 'string'\n        ? [response.data.message] : response.data.message;\n      emitter.emit('push-message', {\n        style: 'danger',\n        title: `${title}失敗`,\n        content: message.join('、'),\n      });\n    }\n  } else {\n    emitter.emit('push-message', {\n      style: 'danger',\n      title: '連線錯誤',\n      content: `${response.message}，請嘗試重新整理` || `${response}，請嘗試重新整理`,\n    });\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n"],"sourceRoot":""}