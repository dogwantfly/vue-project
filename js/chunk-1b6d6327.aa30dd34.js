(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b6d6327"],{2532:function(e,t,a){"use strict";var i=a("23e7"),r=a("5a34"),n=a("1d80"),s=a("ab13");i({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(n(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"4de4":function(e,t,a){"use strict";var i=a("23e7"),r=a("b727").filter,n=a("1dde"),s=n("filter");i({target:"Array",proto:!0,forced:!s},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,a){var i=a("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},6062:function(e,t,a){"use strict";var i=a("6d61"),r=a("6566");e.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},6566:function(e,t,a){"use strict";var i=a("9bf2").f,r=a("7c73"),n=a("e2cc"),s=a("0366"),o=a("19aa"),c=a("2266"),l=a("7dd0"),d=a("2626"),u=a("83ab"),p=a("f183").fastKey,b=a("69f3"),f=b.set,v=b.getterFor;e.exports={getConstructor:function(e,t,a,l){var d=e((function(e,i){o(e,d,t),f(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=i&&c(i,e[l],{that:e,AS_ENTRIES:a})})),b=v(t),h=function(e,t,a){var i,r,n=b(e),s=m(e,t);return s?s.value=a:(n.last=s={index:r=p(t,!0),key:t,value:a,previous:i=n.last,next:void 0,removed:!1},n.first||(n.first=s),i&&(i.next=s),u?n.size++:e.size++,"F"!==r&&(n.index[r]=s)),e},m=function(e,t){var a,i=b(e),r=p(t);if("F"!==r)return i.index[r];for(a=i.first;a;a=a.next)if(a.key==t)return a};return n(d.prototype,{clear:function(){var e=this,t=b(e),a=t.index,i=t.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete a[i.index],i=i.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,a=b(t),i=m(t,e);if(i){var r=i.next,n=i.previous;delete a.index[i.index],i.removed=!0,n&&(n.next=r),r&&(r.previous=n),a.first==i&&(a.first=r),a.last==i&&(a.last=n),u?a.size--:t.size--}return!!i},forEach:function(e){var t,a=b(this),i=s(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!m(this,e)}}),n(d.prototype,a?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),u&&i(d.prototype,"size",{get:function(){return b(this).size}}),d},setStrong:function(e,t,a){var i=t+" Iterator",r=v(t),n=v(i);l(e,t,(function(e,t){f(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=n(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),d(t)}}},"6d61":function(e,t,a){"use strict";var i=a("23e7"),r=a("da84"),n=a("94ca"),s=a("6eeb"),o=a("f183"),c=a("2266"),l=a("19aa"),d=a("861d"),u=a("d039"),p=a("1c7e"),b=a("d44e"),f=a("7156");e.exports=function(e,t,a){var v=-1!==e.indexOf("Map"),h=-1!==e.indexOf("Weak"),m=v?"set":"add",g=r[e],O=g&&g.prototype,j=g,w={},y=function(e){var t=O[e];s(O,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(h&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return h&&!d(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(h&&!d(e))&&t.call(this,0===e?0:e)}:function(e,a){return t.call(this,0===e?0:e,a),this})},x=n(e,"function"!=typeof g||!(h||O.forEach&&!u((function(){(new g).entries().next()}))));if(x)j=a.getConstructor(t,e,v,m),o.REQUIRED=!0;else if(n(e,!0)){var k=new j,C=k[m](h?{}:-0,1)!=k,V=u((function(){k.has(1)})),N=p((function(e){new g(e)})),S=!h&&u((function(){var e=new g,t=5;while(t--)e[m](t,t);return!e.has(-0)}));N||(j=t((function(t,a){l(t,j,e);var i=f(new g,t,j);return void 0!=a&&c(a,i[m],{that:i,AS_ENTRIES:v}),i})),j.prototype=O,O.constructor=j),(V||S)&&(y("delete"),y("has"),v&&y("get")),(S||C)&&y(m),h&&O.clear&&delete O.clear}return w[e]=j,i({global:!0,forced:j!=g},w),b(j,e),h||a.setStrong(j,e,v),j}},7156:function(e,t,a){var i=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var n,s;return r&&"function"==typeof(n=t.constructor)&&n!==a&&i(s=n.prototype)&&s!==a.prototype&&r(e,s),e}},ab13:function(e,t,a){var i=a("b622"),r=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},bb2f:function(e,t,a){var i=a("d039");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},caad:function(e,t,a){"use strict";var i=a("23e7"),r=a("4d64").includes,n=a("44d2");i({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},d2f1:function(e,t,a){"use strict";a.r(t);a("99af"),a("caad"),a("2532"),a("a4d3"),a("e01a"),a("ac1f"),a("1276");var i=a("7a23"),r={class:"product container py-5"},n={"aria-label":"breadcrumb"},s={class:"breadcrumb"},o={class:"breadcrumb-item"},c=Object(i["createTextVNode"])("首頁"),l={class:"breadcrumb-item active","aria-current":"page"},d=Object(i["createTextVNode"])("樂器"),u={class:"breadcrumb-item active","aria-current":"page"},p={class:"breadcrumb-item active","aria-current":"page"},b={class:"row pt-5"},f={class:"col-lg-7 d-md-flex mb-5"},v={class:"col-lg-5"},h={class:"d-flex align-items-center mb-3"},m={class:"me-2 fs-3"},g={class:"badge bg-primary rounded-pill fs-6 mb-0 me-3"},O={key:0,class:"h5"},j={class:"h6 text-muted"},w={class:"h5 mb-3"},y={class:"input-group mb-5"},x={key:0,class:"spinner-border spinner-border-sm",role:"status"},k=Object(i["createVNode"])("span",{class:"visually-hidden"},"Loading...",-1),C=Object(i["createTextVNode"])(" 加入購物車 "),V=Object(i["createStaticVNode"])('<ul><li class="mb-3"><h4 class="fs-5">運送方式</h4><p class="text-muted">一般宅配，貨到付款</p></li><li class="mb-3"><h4 class="fs-5">運送須知</h4><p class="text-muted">若有不方便寄送之日期（如出國）請於訂單中備註或是任何管道告知，如配送失敗產生二次運費需由買家負擔</p></li><li class="mb-3"><h4 class="fs-5">退換貨須知</h4><p class="text-muted"> 依《消費者保護法》的規定，於全站購物皆享有商品到貨【七日猶豫期】（含例假日）之權益。若收到的商品有任何問題，可於猶豫期內申請退貨。 </p></li></ul>',1),N={class:"product-detail col-12 bg-light text-center py-5 mb-5"},S=Object(i["createVNode"])("ul",{class:"nav nav-pills justify-content-center mb-5",id:"pills-tab",role:"tablist"},[Object(i["createVNode"])("li",{class:"nav-item",role:"presentation"},[Object(i["createVNode"])("button",{class:"nav-link active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"商品內容")]),Object(i["createVNode"])("li",{class:"nav-item",role:"presentation"},[Object(i["createVNode"])("button",{class:"nav-link",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"商品描述")])],-1),E={class:"tab-content",id:"pills-tabContent"},$={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},P={class:"text-pre-line w-max-content mx-auto"},B={class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},I={key:0},F=Object(i["createVNode"])("br",null,null,-1),T={key:0,class:"product-also-buy col-12 mb-5"},D=Object(i["createVNode"])("h3",{class:"title mb-4"},"買了此商品的人也買了...",-1),L={class:"row"},M={class:"overflow-hidden position-relative"},q={class:"ratio ratio-3x4"},z={class:"btn-group position-absolute"},A={key:0,class:"spinner-border spinner-border-sm",role:"status"},_=Object(i["createVNode"])("span",{class:"visually-hidden"},"Loading...",-1),U=Object(i["createTextVNode"])(" 加到購物車 "),R={class:"card-body"},J={class:"d-flex align-items-center justify-content-between"},Q={class:"card-title fs-5 mb-0"},G={class:"fw-bold card-text text-muted"},K={key:1,class:"col-12 d-none d-xl-block"},W=Object(i["createVNode"])("h3",{class:"mb-4"},"最近瀏覽商品",-1),H={class:"row"},X={class:"card-body"},Y={class:"d-flex align-items-center justify-content-between"},Z={class:"card-title h6 mb-0"};function ee(e,t,a,ee,te,ae){var ie=Object(i["resolveComponent"])("Loading"),re=Object(i["resolveComponent"])("router-link"),ne=Object(i["resolveComponent"])("SwiperSlide"),se=Object(i["resolveComponent"])("Swiper");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])(ie,{active:te.isLoading,"z-index":1080,loader:"dots",color:"#384D48"},null,8,["active"]),Object(i["createVNode"])("div",r,[Object(i["createVNode"])("nav",n,[Object(i["createVNode"])("ol",s,[Object(i["createVNode"])("li",o,[Object(i["createVNode"])(re,{to:"/"},{default:Object(i["withCtx"])((function(){return[c]})),_:1})]),Object(i["createVNode"])("li",l,[Object(i["createVNode"])(re,{to:"/products"},{default:Object(i["withCtx"])((function(){return[d]})),_:1})]),Object(i["createVNode"])("li",u,[Object(i["createVNode"])("a",{href:"#",onClick:t[1]||(t[1]=Object(i["withModifiers"])((function(e){return ae.updateCategory(te.product.category)}),["prevent"]))},Object(i["toDisplayString"])(te.product.category),1)]),Object(i["createVNode"])("li",p,Object(i["toDisplayString"])(te.product.title),1)])]),Object(i["createVNode"])("div",b,[Object(i["createVNode"])("div",f,[Object(i["createVNode"])(se,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},loop:!1,thumbs:{swiper:te.thumbsSwiper},direction:"vertical",class:"mySwiper2 text-center"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(ne,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])("img",{src:te.product.imageUrl,alt:te.product.title,class:"img-fluid"},null,8,["src","alt"])]})),_:1}),(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(te.product.imagesUrl,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(ne,{key:e},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])("img",{src:e,alt:"".concat(te.product.title," ").concat(t),class:"img-fluid"},null,8,["src","alt"])]})),_:2},1024)})),128))]})),_:1},8,["thumbs"]),Object(i["createVNode"])(se,{onSwiper:ae.setThumbsSwiper,loop:!1,slidesPerView:4,spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,direction:"horizontal",class:"mySwiper",breakpoints:{768:{direction:"vertical"}}},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(ne,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])("img",{src:te.product.imageUrl,alt:te.product.title,class:"img-fluid"},null,8,["src","alt"])]})),_:1}),(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(te.product.imagesUrl,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(ne,{key:e},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])("img",{src:e,alt:"".concat(te.product.title," ").concat(t),class:"img-fluid"},null,8,["src","alt"])]})),_:2},1024)})),128))]})),_:1},8,["onSwiper"])]),Object(i["createVNode"])("div",v,[Object(i["createVNode"])("div",h,[Object(i["createVNode"])("h1",m,Object(i["toDisplayString"])(te.product.title),1),Object(i["createVNode"])("p",g,Object(i["toDisplayString"])(te.product.category),1),Object(i["createVNode"])("button",{type:"button",onClick:t[2]||(t[2]=function(e){return ae.toggleFavorite(te.product)}),class:"btn text-danger"},[Object(i["createVNode"])("i",{class:["bi",te.myFavorite.includes(te.product.id)?"bi-heart-fill":"bi-heart"]},null,2)])]),te.product.price?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])("div",O,Object(i["toDisplayString"])(e.$filters.currency(te.product.origin_price))+" 元",1)),Object(i["createVNode"])("del",j," NT$"+Object(i["toDisplayString"])(e.$filters.currency(te.product.origin_price)),1),Object(i["createVNode"])("div",w,"NT$"+Object(i["toDisplayString"])(e.$filters.currency(te.product.price)),1),Object(i["createVNode"])("div",y,[Object(i["withDirectives"])(Object(i["createVNode"])("input",{type:"number",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(e){return te.qty=e}),min:"1"},null,512),[[i["vModelText"],te.qty,void 0,{number:!0}]]),Object(i["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=function(e){return ae.addCart(te.product.id,te.qty)})},[te.loadingStatus.loadingCart===te.product.id?(Object(i["openBlock"])(),Object(i["createBlock"])("div",x,[k])):Object(i["createCommentVNode"])("",!0),C])]),V]),Object(i["createVNode"])("div",N,[S,Object(i["createVNode"])("div",E,[Object(i["createVNode"])("div",$,[Object(i["createVNode"])("p",P,Object(i["toDisplayString"])(te.product.content),1)]),Object(i["createVNode"])("div",B,[te.product.description?(Object(i["openBlock"])(),Object(i["createBlock"])("p",I,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(te.product.description.split("\n"),(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],{key:e},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e)+" ",1),F],64)})),128))])):Object(i["createCommentVNode"])("",!0)])])]),te.randomProducts.length?(Object(i["openBlock"])(),Object(i["createBlock"])("div",T,[D,Object(i["createVNode"])("ul",L,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(te.randomProducts,(function(t){return Object(i["openBlock"])(),Object(i["createBlock"])("li",{class:"card col-md-4 col-lg-3 col-xl-2 border-0",key:t.id},[Object(i["createVNode"])("div",M,[Object(i["createVNode"])("button",{type:"button",onClick:Object(i["withModifiers"])((function(e){return ae.toggleFavorite(t)}),["stop"]),class:"btn btn-favorite position-absolute"},[Object(i["createVNode"])("i",{class:["bi",te.myFavorite.includes(t.id)?"bi-heart-fill":"bi-heart"]},null,2)],8,["onClick"]),Object(i["createVNode"])("div",q,[Object(i["createVNode"])("img",{src:t.imageUrl,alt:t.title,class:"cart-img card-img-top"},null,8,["src","alt"])]),Object(i["createVNode"])("div",z,[Object(i["createVNode"])("button",{type:"button",class:"btn btn-primary btn-cart",onClick:Object(i["withModifiers"])((function(e){return ae.addCart(t.id,1)}),["stop"]),disabled:te.loadingStatus.loadingCart===t.id},[te.loadingStatus.loadingCart===t.id?(Object(i["openBlock"])(),Object(i["createBlock"])("div",A,[_])):Object(i["createCommentVNode"])("",!0),U],8,["onClick","disabled"])])]),Object(i["createVNode"])("div",R,[Object(i["createVNode"])("div",J,[Object(i["createVNode"])("h4",Q,[Object(i["createVNode"])("a",{href:"#",onClick:Object(i["withModifiers"])((function(e){return ae.getProductInfo(t.id)}),["prevent"]),class:"text-dark d-block stretched-link"},Object(i["toDisplayString"])(t.title),9,["onClick"])])]),Object(i["createVNode"])("p",G,"NT$ "+Object(i["toDisplayString"])(e.$filters.currency(t.price)),1)])])})),128))])])):Object(i["createCommentVNode"])("",!0),te.productsViewed.length?(Object(i["openBlock"])(),Object(i["createBlock"])("div",K,[W,Object(i["createVNode"])("ul",H,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(te.productsViewed,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("li",{class:"card col-lg-2 border-0",key:e.id},[Object(i["createVNode"])("img",{src:e.imageUrl,alt:e.title,class:"product-img object-fit-cover card-img-top"},null,8,["src","alt"]),Object(i["createVNode"])("div",X,[Object(i["createVNode"])("div",Y,[Object(i["createVNode"])("h4",Z,[Object(i["createVNode"])("a",{href:"#",onClick:Object(i["withModifiers"])((function(t){return ae.getProductInfo(e.id)}),["prevent"]),class:"text-dark d-block stretched-link"},Object(i["toDisplayString"])(e.title),9,["onClick"])])])])])})),128))])])):Object(i["createCommentVNode"])("",!0)])])],64)}a("4de4"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("159b"),a("a434");var te=a("eddb"),ae=a("90ea"),ie=a("a16a"),re=(a("5f67"),a("6d3b")),ne=a("26ad"),se=a("70a4");function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},oe.apply(this,arguments)}var ce={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,a=e.navigation.toggleEl;if(!e.params.loop){var i=e.navigation,r=i.$nextEl,n=i.$prevEl;n&&n.length>0&&(e.isBeginning?a(n,!0):a(n,!1),e.params.watchOverflow&&e.enabled&&n[e.isLocked?"addClass":"removeClass"](t.lockClass)),r&&r.length>0&&(e.isEnd?a(r,!0):a(r,!1),e.params.watchOverflow&&e.enabled&&r[e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init:function(){var e,t,a=this,i=a.params.navigation;(a.params.navigation=Object(se["b"])(a.$el,a.params.navigation,a.params.createElements,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),i.nextEl||i.prevEl)&&(i.nextEl&&(e=Object(ne["a"])(i.nextEl),a.params.uniqueNavElements&&"string"===typeof i.nextEl&&e.length>1&&1===a.$el.find(i.nextEl).length&&(e=a.$el.find(i.nextEl))),i.prevEl&&(t=Object(ne["a"])(i.prevEl),a.params.uniqueNavElements&&"string"===typeof i.prevEl&&t.length>1&&1===a.$el.find(i.prevEl).length&&(t=a.$el.find(i.prevEl))),e&&e.length>0&&e.on("click",a.navigation.onNextClick),t&&t.length>0&&t.on("click",a.navigation.onPrevClick),Object(se["d"])(a.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}),a.enabled||(e&&e.addClass(i.lockClass),t&&t.addClass(i.lockClass)))},destroy:function(){var e=this,t=e.navigation,a=t.$nextEl,i=t.$prevEl;a&&a.length&&(a.off("click",e.navigation.onNextClick),a.removeClass(e.params.navigation.disabledClass)),i&&i.length&&(i.off("click",e.navigation.onPrevClick),i.removeClass(e.params.navigation.disabledClass))}},le={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){var e=this;Object(se["a"])(e,{navigation:oe({},ce)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},"enable disable":function(e){var t=e.navigation,a=t.$nextEl,i=t.$prevEl;a&&a[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),i&&i[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)},click:function(e,t){var a=e.navigation,i=a.$nextEl,r=a.$prevEl,n=t.target;if(e.params.navigation.hideOnClick&&!Object(ne["a"])(n).is(r)&&!Object(ne["a"])(n).is(i)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===n||e.pagination.el.contains(n)))return;var s;i?s=i.hasClass(e.params.navigation.hiddenClass):r&&(s=r.hasClass(e.params.navigation.hiddenClass)),!0===s?e.emit("navigationShow"):e.emit("navigationHide"),i&&i.toggleClass(e.params.navigation.hiddenClass),r&&r.toggleClass(e.params.navigation.hiddenClass)}}}};function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},de.apply(this,arguments)}var ue={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var a=e.constructor;return t.swiper instanceof a?(e.thumbs.swiper=t.swiper,Object(se["d"])(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object(se["d"])(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):Object(se["f"])(t.swiper)&&(e.thumbs.swiper=new a(Object(se["d"])({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var a=t.clickedIndex,i=t.clickedSlide;if((!i||!Object(ne["a"])(i).hasClass(e.params.thumbs.slideThumbActiveClass))&&"undefined"!==typeof a&&null!==a){var r;if(r=t.params.loop?parseInt(Object(ne["a"])(t.clickedSlide).attr("data-swiper-slide-index"),10):a,e.params.loop){var n=e.activeIndex;e.slides.eq(n).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,n=e.activeIndex);var s=e.slides.eq(n).prevAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),o=e.slides.eq(n).nextAll('[data-swiper-slide-index="'+r+'"]').eq(0).index();r="undefined"===typeof s?o:"undefined"===typeof o?s:o-n<n-s?o:s}e.slideTo(r)}}},update:function(e){var t=this,a=t.thumbs.swiper;if(a){var i="auto"===a.params.slidesPerView?a.slidesPerViewDynamic():a.params.slidesPerView,r=t.params.thumbs.autoScrollOffset,n=r&&!a.params.loop;if(t.realIndex!==a.realIndex||n){var s,o,c=a.activeIndex;if(a.params.loop){a.slides.eq(c).hasClass(a.params.slideDuplicateClass)&&(a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft,c=a.activeIndex);var l=a.slides.eq(c).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),d=a.slides.eq(c).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();s="undefined"===typeof l?d:"undefined"===typeof d?l:d-c===c-l?a.params.slidesPerGroup>1?d:c:d-c<c-l?d:l,o=t.activeIndex>t.previousIndex?"next":"prev"}else s=t.realIndex,o=s>t.previousIndex?"next":"prev";n&&(s+="next"===o?r:-1*r),a.visibleSlidesIndexes&&a.visibleSlidesIndexes.indexOf(s)<0&&(a.params.centeredSlides?s=s>c?s-Math.floor(i/2)+1:s+Math.floor(i/2)-1:s>c&&a.params.slidesPerGroup,a.slideTo(s,e?0:void 0))}var u=1,p=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(u=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(u=1),u=Math.floor(u),a.slides.removeClass(p),a.params.loop||a.params.virtual&&a.params.virtual.enabled)for(var b=0;b<u;b+=1)a.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+b)+'"]').addClass(p);else for(var f=0;f<u;f+=1)a.slides.eq(t.realIndex+f).addClass(p)}}},pe={name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){var e=this;Object(se["a"])(e,{thumbs:de({swiper:null,initialized:!1},ue)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var a=e.thumbs.swiper;a&&a.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}};re["a"].use([le,pe]);var be={data:function(){return{product:"",qty:1,loadingStatus:{},myFavorite:te["a"].getFavorite()||[],isLoading:!1,thumbsSwiper:null,randomProducts:[],productsViewed:[]}},inject:["$httpMessageState","emitter"],components:{Swiper:ae["a"],SwiperSlide:ie["a"]},methods:{getProduct:function(e){var t=this;this.isLoading=!0;var a=e||this.$route.params.productId,i="/api/".concat("hsinyuuu","/product/").concat(a);this.$http.get(i).then((function(e){if(!e.data.success)return t.isLoading=!1,void t.$httpMessageState(e,"取得產品資料");t.product=e.data.product,t.getAllProducts(),t.isLoading=!1})).catch((function(e){t.$httpMessageState(e,"連線錯誤"),t.isLoading=!1}))},getAllProducts:function(){var e=this,t="/api/".concat("hsinyuuu","/products/all");this.$http.get(t).then((function(t){if(!t.data.success)return e.$httpMessageState(t,"取得全部產品資料"),void(e.isLoading=!1);e.products=t.data.products,e.getRandomProducts(),e.getProductsViewed()})).catch((function(t){e.$httpMessageState(t,"連線錯誤"),e.isLoading=!1}))},getRandomProducts:function(){for(var e=this,t=this.product,a=t.category,i=t.id,r=this.products.filter((function(e){return e.category===a&&e.id!==i})),n=new Set([]),s=r.length<4?r.length:4,o=0;n.size<s;o+=1){var c=this.$filters.randomInt(r.length);n.add(r[c])}this.randomProducts=[],n.forEach((function(t){e.randomProducts.push(t)}))},saveProductViewed:function(e){var t=6,a=JSON.parse(localStorage.getItem("productsViewed"))||[];a.includes(e)&&a.splice(a.indexOf(e),1),a.unshift(e),a.length>t&&a.pop(),localStorage.setItem("productsViewed",JSON.stringify(a))},getProductsViewed:function(){var e=this,t=JSON.parse(localStorage.getItem("productsViewed"))||[];t.length&&(this.productsViewed=[],t.forEach((function(t){var a=e.products.filter((function(e){return e.id===t}))[0];e.productsViewed.push(a)})))},getProductInfo:function(e){this.$router.push("/product/".concat(e)),this.getProduct(e),this.saveProductViewed(e)},addCart:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="/api/".concat("hsinyuuu","/cart"),r={product_id:e,qty:a};this.loadingStatus.loadingCart=e,this.$http.post(i,{data:r}).then((function(a){a.data.success?(t.emitter.emit("update-cart",e),t.loadingStatus.loadingCart="",t.qty=1,t.$httpMessageState(a,"加入購物車")):t.$httpMessageState(a,"加入購物車")})).catch((function(e){t.$httpMessageState(e,"連線錯誤")}))},toggleFavorite:function(e){this.myFavorite.includes(e.id)?(this.myFavorite.splice(this.myFavorite.indexOf(e.id),1),this.$httpMessageState({data:{success:!0,message:"已將 ".concat(e.title," 移除收藏")}},"移除收藏")):(this.myFavorite.push(e.id),this.$httpMessageState({data:{success:!0,message:"已將 ".concat(e.title," 加入收藏")}},"加入收藏")),te["a"].storeFavorite(this.myFavorite),this.emitter.emit("update-favorite")},updateFavorite:function(){this.myFavorite=te["a"].getFavorite(),this.getProduct()},setThumbsSwiper:function(e){this.thumbsSwiper=e},updateCategory:function(e){this.$router.push({name:"Products",params:{selectedCategory:e}})}},mounted:function(){this.$http.defaults.baseURL="https://vue3-course-api.hexschool.io",this.getProduct(),this.emitter.on("update-favorite",this.updateFavorite),this.saveProductViewed(this.$route.params.productId)},unmounted:function(){this.emitter.off("update-favorite",this.updateFavorite)}},fe=a("6b0d"),ve=a.n(fe);const he=ve()(be,[["render",ee]]);t["default"]=he},eddb:function(e,t,a){"use strict";t["a"]={storeFavorite:function(e){var t=JSON.stringify(e);localStorage.setItem("favoriteProduct",t)},getFavorite:function(){return JSON.parse(localStorage.getItem("favoriteProduct"))}}},f183:function(e,t,a){var i=a("d012"),r=a("861d"),n=a("5135"),s=a("9bf2").f,o=a("90e3"),c=a("bb2f"),l=o("meta"),d=0,u=Object.isExtensible||function(){return!0},p=function(e){s(e,l,{value:{objectID:"O"+ ++d,weakData:{}}})},b=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,l)){if(!u(e))return"F";if(!t)return"E";p(e)}return e[l].objectID},f=function(e,t){if(!n(e,l)){if(!u(e))return!0;if(!t)return!1;p(e)}return e[l].weakData},v=function(e){return c&&h.REQUIRED&&u(e)&&!n(e,l)&&p(e),e},h=e.exports={REQUIRED:!1,fastKey:b,getWeakData:f,onFreeze:v};i[l]=!0}}]);
//# sourceMappingURL=chunk-1b6d6327.aa30dd34.js.map